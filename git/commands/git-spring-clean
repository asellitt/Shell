#!/bin/bash

CLEAR="\033[1;0m"
GREEN="\033[0;32m"
CYAN="\033[1;36m"

echo -e "$GREEN- Starting: spring-clean -$CLEAR"

echo ''
echo -e "$CYAN- Nuking local branches -$CLEAR"
git branch |
  grep -v "^* " |
  grep -v "/master$" |
  grep -v "^[* ] main$" |
  grep -v "^[* ] production$" |
  grep -v "^[* ] green$" |
  xargs git branch -d

echo ''
echo -e "$CYAN- Nuking remote branches -$CLEAR"
git branch -r |
  grep -v "^* " |
  grep -v "/master$" |
  grep -v "/main$" |
  grep -v "/production$" |
  grep -v "/green$" |
  xargs git branch -d -r
